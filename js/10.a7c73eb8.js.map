{"version":3,"file":"js/10.a7c73eb8.js","mappings":"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","sources":["webpack://biscuit-paradise/./src/methods/favorite.js","webpack://biscuit-paradise/./src/views/user/ProductList.vue","webpack://biscuit-paradise/./src/views/user/ProductList.vue?e9c9"],"sourcesContent":["export default {\r\n  addToFavorite (favorite) {\r\n    const favoriteStr = JSON.stringify(favorite)\r\n    localStorage.setItem('favoriteList', favoriteStr)\r\n  },\r\n  getFavorite () {\r\n    return JSON.parse(localStorage.getItem('favoriteList'))\r\n  }\r\n}\r\n\r\n/*\r\n因為localstorage只能存放string字串，因此要使用json將array陣列轉為字串才可存入，而取得資料則須將記憶體的資料再度轉譯成array陣列。\r\n-陣列轉字串：JSON.stringify()\r\n-字串轉陣列 & JSON格式：JSON.parse()\r\n*/","<template>\r\n  <LoadingComp :active=\"isLoading\" />\r\n  <section class=\"container py-lg-3\">\r\n    <nav aria-label=\"breadcrumb\">\r\n      <ol class=\"breadcrumb\">\r\n        <li class=\"breadcrumb-item\">\r\n          <router-link to=\"/user\" active-class=\"active-reset\">\r\n            首頁\r\n          </router-link>\r\n        </li>\r\n        <li class=\"breadcrumb-item\">產品列表</li>\r\n      </ol>\r\n    </nav>\r\n    <div class=\"productlist text-center px-4 py-5\">\r\n      <div class=\"text-white text-center p-3 cover d-inline-block\">\r\n        <h1 class=\"fw-bold my-3\">產品列表</h1>\r\n        <p class=\"mb-0\">「挑戰味覺極限，一口餅乾，<br class=\"d-block d-md-none\"> 一場美味革命。」</p>\r\n      </div>\r\n    </div>\r\n    <div class=\"row g-4 justify-content-around py-5\">\r\n      <div class=\"col-lg-2\">\r\n        <div class=\"text-center d-flex flex-column align-items-center\">\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn btn-primary border-0 link-light shadow-sm fw-bold m-2 py-3 fixed-width-button\"\r\n            :class=\"{ active: category === item.value }\"\r\n            @click.prevent=\"category = item.value\"\r\n            v-for=\"item in categoryList\"\r\n            :key=\"item.value\"\r\n          >\r\n            {{ item.value }}\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-lg-9\">\r\n        <div class=\"row row-cols-lg-3 row-cols-sm-2 row-cols-1 g-4\">\r\n          <div class=\"col\" v-for=\"item in filterProducts\" :key=\"item.id\">\r\n            <div class=\"card h-100 border cardHover\">\r\n              <img\r\n                :src=\"item.imageUrl\"\r\n                class=\"card-img-top img-fluid\"\r\n                style=\"object-fit: cover; height: 200px; cursor: pointer\"\r\n                :alt=\"item.title\"\r\n                :title=\"item.title\"\r\n                loading=\"lazy\"\r\n              />\r\n              <div class=\"card-body d-flex flex-column justify-content-between\">\r\n                <div>\r\n                  <div class=\"d-flex justify-content-between align-items-center\">\r\n                    <h5 class=\"card-title fw-bold text-primary mb-0\">\r\n                      {{ item.title }}\r\n                    </h5>\r\n                    <span class=\"badge bg-warning rounded-pill text-black\">\r\n                      {{ item.category }}\r\n                    </span>\r\n                  </div>\r\n                  <hr />\r\n                  <p class=\"card-text\">{{ item.description }}</p>\r\n                </div>\r\n\r\n                <div>\r\n                  <div class=\"text-end\">\r\n                    <p class=\"h5\" v-if=\"item.price === item.origin_price\">\r\n                      {{ $formatFilters.currency(item.origin_price) }} 元\r\n                    </p>\r\n                    <del class=\"h6\" v-if=\"item.price !== item.origin_price\">\r\n                      原價 {{ $formatFilters.currency(item.origin_price) }} 元\r\n                    </del>\r\n                    <p class=\"h5 text-danger\" v-if=\"item.price !== item.origin_price\">\r\n                      特價 {{ $formatFilters.currency(item.price) }} 元\r\n                    </p>\r\n                  </div>\r\n                  <div class=\"text-end position-relative\" style=\"z-index:3;\">\r\n                    <button\r\n                      type=\"button\"\r\n                      class=\"btn btn-primary mx-2 rounded-circle fs-4 text-white border-0\"\r\n                      :class=\"{ active: favorite.includes(item.id) }\"\r\n                      style=\"width: 50px; height: 50px\"\r\n                      @click=\"toggleFavorite(item)\"\r\n                    >\r\n                      <i class=\"bi bi-suit-heart\"/>\r\n                    </button>\r\n                    <button\r\n                      type=\"button\"\r\n                      class=\"btn btn-primary align-self-end rounded-circle fs-4 text-white border-0\"\r\n                      style=\"width: 50px; height: 50px\"\r\n                      :disabled=\"status.loadingItem === item.id\"\r\n                      @click=\"addCart(item, item.id)\"\r\n                    >\r\n                      <i class=\"bi bi-cart3\"/>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n                <a href=\"#\" class=\"stretched-link\" @click.prevent=\"getProduct(item.id)\"></a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n.productlist {\r\n    background-image: url(\"../../assets/images/img/main.jpg\");\r\n    background-position: center;\r\n    height: 350px;\r\n    background-size: cover;\r\n}\r\n.cover {\r\n    background-image: linear-gradient(rgba(0,0,0,.3),rgba(0,0,0,.3));\r\n}\r\n.cardHover {\r\n  transition: transform .3s cubic-bezier(.155,1.105,.295,1.12),-webkit-transform .3s cubic-bezier(.155,1.105,.295,1.12);\r\n  cursor: pointer;\r\n  &:hover {\r\n    transform: scale(1.05);\r\n  }\r\n}\r\n.fixed-width-button {\r\n  width: 100%; /* 或者使用具體的寬度值，確保每個按鈕有相同的寬度 */\r\n}\r\n.active{\r\n  background-color:crimson;\r\n}\r\n.router-link-exact-active {\r\n  background-color: transparent !important;\r\n  font-weight: normal !important;\r\n  color: inherit !important;\r\n}\r\n.active-reset {\r\n  text-decoration: none;\r\n  color: #212529;\r\n}\r\n</style>\r\n\r\n<script>\r\nimport favorite from '@/methods/favorite'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      products: [],\r\n      isLoading: false,\r\n      categoryList: [\r\n        { value: '全部' },\r\n        { value: '馬卡龍' },\r\n        { value: '造型餅乾' },\r\n        { value: '可頌' }\r\n      ],\r\n      category: '全部',\r\n      status: {\r\n        loadingItem: ''\r\n      },\r\n      favorite: favorite.getFavorite() || []\r\n    }\r\n  },\r\n  inject: ['emitter'],\r\n  methods: {\r\n    getProducts () {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`\r\n      this.isLoading = true\r\n      this.$http.get(api).then((res) => {\r\n        if (res.data.success) {\r\n          this.products = res.data.products\r\n        }\r\n        this.isLoading = false\r\n      })\r\n    },\r\n    getProduct (id) {\r\n      this.$router.push(`/user/product/${id}`)\r\n    },\r\n\r\n    addCart (item, id) {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      this.isLoading = true\r\n      this.status.loadingItem = id\r\n      const cart = {\r\n        product_id: id,\r\n        qty: 1\r\n      }\r\n      this.$http.post(url, { data: cart }).then((res) => {\r\n        this.status.loadingItem = ''\r\n        this.emitter.emit('update-cart', id)\r\n        this.isLoading = false\r\n        this.$httpMessageState(res, `將\"${item.title}\"加入購物車`)\r\n      })\r\n    },\r\n    toggleFavorite (item) {\r\n      if (this.favorite.includes(item.id)) {\r\n        this.favorite.splice(this.favorite.indexOf(item.id), 1)\r\n        this.$httpMessageState(\r\n          {\r\n            data: {\r\n              success: true\r\n            }\r\n          },\r\n          `已將\"${item.title}\"移除我的最愛`\r\n        )\r\n      } else {\r\n        this.favorite.push(item.id)\r\n        this.$httpMessageState(\r\n          {\r\n            data: {\r\n              success: true\r\n            }\r\n          },\r\n          `已將\"${item.title}\"加入我的最愛`\r\n        )\r\n      }\r\n      favorite.addToFavorite(this.favorite)\r\n      this.emitter.emit('update-favorite', this.favorite)\r\n    }\r\n  },\r\n  computed: {\r\n    filterProducts () {\r\n      return this.products.filter((item) => {\r\n        if (this.category === '全部') {\r\n          return this.products\r\n        }\r\n        return item.category.match(this.category)\r\n      })\r\n    }\r\n  },\r\n  created () {\r\n    this.getProducts()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./ProductList.vue?vue&type=template&id=6a390f43&scoped=true\"\nimport script from \"./ProductList.vue?vue&type=script&lang=js\"\nexport * from \"./ProductList.vue?vue&type=script&lang=js\"\n\nimport \"./ProductList.vue?vue&type=style&index=0&id=6a390f43&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6a390f43\"]])\n\nexport default __exports__"],"names":["addToFavorite","favorite","favoriteStr","JSON","stringify","localStorage","setItem","getFavorite","parse","getItem","class","_createElementVNode","_createStaticVNode","key","style","_hoisted_27","_hoisted_30","_createElementBlock","_Fragment","_createVNode","_component_LoadingComp","active","$data","isLoading","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_component_router_link","to","default","_withCtx","_createTextVNode","_","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_renderList","categoryList","item","type","_normalizeClass","category","value","onClick","_withModifiers","$event","_hoisted_10","_hoisted_11","_hoisted_12","$options","filterProducts","id","_hoisted_13","src","imageUrl","alt","title","loading","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_toDisplayString","_hoisted_18","_hoisted_19","_hoisted_20","description","_hoisted_21","price","origin_price","_hoisted_22","_ctx","$formatFilters","currency","_createCommentVNode","_hoisted_23","_hoisted_24","_hoisted_25","includes","toggleFavorite","_hoisted_28","_hoisted_26","disabled","status","loadingItem","addCart","_hoisted_31","_hoisted_29","href","getProduct","_hoisted_32","data","products","inject","methods","getProducts","api","this","$http","get","then","res","success","$router","push","url","cart","product_id","qty","post","emitter","emit","$httpMessageState","splice","indexOf","computed","filter","match","created","__exports__","render"],"sourceRoot":""}