"use strict";(self["webpackChunkbiscuit_paradise"]=self["webpackChunkbiscuit_paradise"]||[]).push([[10],{4226:function(t,e){e.Z={addToFavorite(t){const e=JSON.stringify(t);localStorage.setItem("favoriteList",e)},getFavorite(){return JSON.parse(localStorage.getItem("favoriteList"))}}},7010:function(t,e,i){i.r(e),i.d(e,{default:function(){return U}});var a=i(3396),s=i(7139),r=i(9242);const c=t=>((0,a.dD)("data-v-6a390f43"),t=t(),(0,a.Cn)(),t),l={class:"container py-lg-3"},o={"aria-label":"breadcrumb"},d={class:"breadcrumb"},n={class:"breadcrumb-item"},u=c((()=>(0,a._)("li",{class:"breadcrumb-item"},"產品列表",-1))),p=(0,a.uE)('<div class="productlist text-center px-4 py-5" data-v-6a390f43><div class="text-white text-center p-3 cover d-inline-block" data-v-6a390f43><h1 class="fw-bold my-3" data-v-6a390f43>產品列表</h1><p class="mb-0" data-v-6a390f43>「挑戰味覺極限，一口餅乾，<br class="d-block d-md-none" data-v-6a390f43> 一場美味革命。」</p></div></div>',1),g={class:"row g-4 justify-content-around py-5"},h={class:"col-lg-2"},v={class:"text-center d-flex flex-column align-items-center"},f=["onClick"],b={class:"col-lg-9"},m={class:"row row-cols-lg-3 row-cols-sm-2 row-cols-1 g-4"},y={class:"card h-100 border cardHover"},_=["src","alt","title"],w={class:"card-body d-flex flex-column justify-content-between"},x={class:"d-flex justify-content-between align-items-center"},k={class:"card-title fw-bold text-primary mb-0"},C={class:"badge bg-warning rounded-pill text-black"},$=c((()=>(0,a._)("hr",null,null,-1))),L={class:"card-text"},z={class:"text-end"},D={key:0,class:"h5"},F={key:1,class:"h6"},I={key:2,class:"h5 text-danger"},S={class:"text-end position-relative",style:{"z-index":"3"}},P=["onClick"],j=c((()=>(0,a._)("i",{class:"bi bi-suit-heart"},null,-1))),M=[j],q=["disabled","onClick"],H=c((()=>(0,a._)("i",{class:"bi bi-cart3"},null,-1))),Z=[H],O=["onClick"];function Y(t,e,i,c,j,H){const Y=(0,a.up)("LoadingComp"),J=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(Y,{active:j.isLoading},null,8,["active"]),(0,a._)("section",l,[(0,a._)("nav",o,[(0,a._)("ol",d,[(0,a._)("li",n,[(0,a.Wm)(J,{to:"/user","active-class":"active-reset"},{default:(0,a.w5)((()=>[(0,a.Uk)(" 首頁 ")])),_:1})]),u])]),p,(0,a._)("div",g,[(0,a._)("div",h,[(0,a._)("div",v,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(j.categoryList,(t=>((0,a.wg)(),(0,a.iD)("button",{type:"button",class:(0,s.C_)(["btn btn-primary border-0 link-light shadow-sm fw-bold m-2 py-3 fixed-width-button",{active:j.category===t.value}]),onClick:(0,r.iM)((e=>j.category=t.value),["prevent"]),key:t.value},(0,s.zw)(t.value),11,f)))),128))])]),(0,a._)("div",b,[(0,a._)("div",m,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(H.filterProducts,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"col",key:e.id},[(0,a._)("div",y,[(0,a._)("img",{src:e.imageUrl,class:"card-img-top img-fluid",style:{"object-fit":"cover",height:"200px",cursor:"pointer"},alt:e.title,title:e.title,loading:"lazy"},null,8,_),(0,a._)("div",w,[(0,a._)("div",null,[(0,a._)("div",x,[(0,a._)("h5",k,(0,s.zw)(e.title),1),(0,a._)("span",C,(0,s.zw)(e.category),1)]),$,(0,a._)("p",L,(0,s.zw)(e.description),1)]),(0,a._)("div",null,[(0,a._)("div",z,[e.price===e.origin_price?((0,a.wg)(),(0,a.iD)("p",D,(0,s.zw)(t.$formatFilters.currency(e.origin_price))+" 元 ",1)):(0,a.kq)("",!0),e.price!==e.origin_price?((0,a.wg)(),(0,a.iD)("del",F," 原價 "+(0,s.zw)(t.$formatFilters.currency(e.origin_price))+" 元 ",1)):(0,a.kq)("",!0),e.price!==e.origin_price?((0,a.wg)(),(0,a.iD)("p",I," 特價 "+(0,s.zw)(t.$formatFilters.currency(e.price))+" 元 ",1)):(0,a.kq)("",!0)]),(0,a._)("div",S,[(0,a._)("button",{type:"button",class:(0,s.C_)(["btn btn-primary mx-2 rounded-circle fs-4 text-white border-0",{active:j.favorite.includes(e.id)}]),style:{width:"50px",height:"50px"},onClick:t=>H.toggleFavorite(e)},M,10,P),(0,a._)("button",{type:"button",class:"btn btn-primary align-self-end rounded-circle fs-4 text-white border-0",style:{width:"50px",height:"50px"},disabled:j.status.loadingItem===e.id,onClick:t=>H.addCart(e,e.id)},Z,8,q)])]),(0,a._)("a",{href:"#",class:"stretched-link",onClick:(0,r.iM)((t=>H.getProduct(e.id)),["prevent"])},null,8,O)])])])))),128))])])])])],64)}i(560);var J=i(4226),K={data(){return{products:[],isLoading:!1,categoryList:[{value:"全部"},{value:"馬卡龍"},{value:"造型餅乾"},{value:"可頌"}],category:"全部",status:{loadingItem:""},favorite:J.Z.getFavorite()||[]}},inject:["emitter"],methods:{getProducts(){const t="https://vue3-course-api.hexschool.io/api/samtgy-api/products/all";this.isLoading=!0,this.$http.get(t).then((t=>{t.data.success&&(this.products=t.data.products),this.isLoading=!1}))},getProduct(t){this.$router.push(`/user/product/${t}`)},addCart(t,e){const i="https://vue3-course-api.hexschool.io/api/samtgy-api/cart";this.isLoading=!0,this.status.loadingItem=e;const a={product_id:e,qty:1};this.$http.post(i,{data:a}).then((i=>{this.status.loadingItem="",this.emitter.emit("update-cart",e),this.isLoading=!1,this.$httpMessageState(i,`將"${t.title}"加入購物車`)}))},toggleFavorite(t){this.favorite.includes(t.id)?(this.favorite.splice(this.favorite.indexOf(t.id),1),this.$httpMessageState({data:{success:!0}},`已將"${t.title}"移除我的最愛`)):(this.favorite.push(t.id),this.$httpMessageState({data:{success:!0}},`已將"${t.title}"加入我的最愛`)),J.Z.addToFavorite(this.favorite),this.emitter.emit("update-favorite",this.favorite)}},computed:{filterProducts(){return this.products.filter((t=>"全部"===this.category?this.products:t.category.match(this.category)))}},created(){this.getProducts()}},N=i(89);const T=(0,N.Z)(K,[["render",Y],["__scopeId","data-v-6a390f43"]]);var U=T}}]);
//# sourceMappingURL=10.a7c73eb8.js.map